<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="osfr">
<title>Getting Started with osfr • osfr</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with osfr">
<meta property="og:description" content="osfr">
<meta property="og:image" content="https://docs.ropensci.org/osfr/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">osfr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/auth.html">Authenticating osfr</a>
    <a class="dropdown-item" href="../articles/getting_started.html">Getting Started with osfr</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/auth.html">Authenticating osfr</a>
    <a class="dropdown-item" href="../articles/getting_started.html">Getting Started with osfr</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/osfr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting Started with osfr</h1>
            
            <h4 data-toc-skip class="date">2022-09-25</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/osfr/blob/HEAD/vignettes/getting_started.Rmd" class="external-link"><code>vignettes/getting_started.Rmd</code></a></small>
      <div class="d-none name"><code>getting_started.Rmd</code></div>
    </div>

    
    
<p>This vignette provides a quick tour of the <em>osfr</em> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/osfr/">osfr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="what-is-osf">What is OSF?<a class="anchor" aria-label="anchor" href="#what-is-osf"></a>
</h2>
<p><a href="https://osf.io" class="external-link">OSF</a> is a free and open source web application that provides a space for researchers to collaboratively store, manage, and share their research materials (e.g. data, code, protocols).</p>
<p>Most work on OSF is organized around <strong><em>projects</em></strong>, which include a cloud-based storage bucket where files can be stored and organized into directories. Note there is no storage limit on the size of projects but individual files must be &lt; 5Gb. Projects can be kept private, shared with a specific group of collaborators, or made publicly available with citable DOIs so you can get credit for their work.</p>
<p>If you’d like to learn more about OSF the Center for Open Science has published an excellent series of <a href="https://help.osf.io/" class="external-link">guides</a> to help get you started. We’ll provide links to specific guides throughout this vignette. Here are a few relevant topics:</p>
<ul>
<li><a href="https://help.osf.io/article/383-creating-a-project" class="external-link">Creating projects and components</a></li>
<li><a href="https://help.osf.io/article/384-managing-projects" class="external-link">Managing projects</a></li>
<li><a href="https://help.osf.io/article/385-collaborating-on-projects" class="external-link">Collaborating on projects</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="accessing-osf-projects">Accessing OSF projects<a class="anchor" aria-label="anchor" href="#accessing-osf-projects"></a>
</h2>
<p>Let’s check out an example project containing materials for an analysis of the 2012 American National Election Survey (ANES). You can access the OSF project in your browser by navigating to its URL: <a href="https://osf.io/jgyxm/" class="external-link uri">https://osf.io/jgyxm/</a>.</p>
<p>Let’s load this project into R with <code><a href="../reference/osf_retrieve.html">osfr::osf_retrieve_node()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anes_project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/osf_retrieve.html">osf_retrieve_node</a></span><span class="op">(</span><span class="st">"https://osf.io/jgyxm"</span><span class="op">)</span></span>
<span><span class="va">anes_project</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span><span class="co">#&gt;   name                                id    meta            </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                               &lt;chr&gt; &lt;list&gt;          </span></span>
<span><span class="co">#&gt; 1 Political identification and gender jgyxm &lt;named list [3]&gt;</span></span></code></pre></div>
<p>This returns an <code>osf_tbl</code> object, which is the <code>data.frame</code>-like class <em>osfr</em> uses to represent items retrieved from OSF. You can now use <code>anes_project</code> to perform a variety of project related tasks by passing it to different osfr functions.</p>
<div class="section level3">
<h3 id="downloading-files">Downloading files<a class="anchor" aria-label="anchor" href="#downloading-files"></a>
</h3>
<p>Let’s list all of the files that have been uploaded to the project:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anes_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/osf_ls_files.html">osf_ls_files</a></span><span class="op">(</span><span class="va">anes_project</span><span class="op">)</span></span>
<span><span class="va">anes_files</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 3</span></span>
<span><span class="co">#&gt;   name                 id                       meta            </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                &lt;chr&gt;                    &lt;list&gt;          </span></span>
<span><span class="co">#&gt; 1 cleaning.R           5e20d22bedceab002d82e0f1 &lt;named list [3]&gt;</span></span>
<span><span class="co">#&gt; 2 Questionnaire.docx   5e20d22bedceab002b82dc3f &lt;named list [3]&gt;</span></span>
<span><span class="co">#&gt; 3 raw_data.csv         5e20d22c675e0e00096b4de8 &lt;named list [3]&gt;</span></span>
<span><span class="co">#&gt; 4 Data Dictionary.docx 5e20d22c675e0e000e6b4b18 &lt;named list [3]&gt;</span></span>
<span><span class="co">#&gt; 5 analyses.R           5e20d22c675e0e000a6b4bd3 &lt;named list [3]&gt;</span></span></code></pre></div>
<p>This returns another <code>osf_tbl</code> but this one contains 5 rows; one for each of the project <em>files</em> stored on OSF. A nice feature of OSF is it provides rendered views for a wide variety of file formats, so it’s not necessary to actually download and open a file if you just want to quickly examine it. Let’s open the Word Document containing the project’s data dictionary by extracting the relevant row from <code>anes_tbl</code> and passing it to <code><a href="../reference/osf_open.html">osf_open()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/osf_open.html">osf_open</a></span><span class="op">(</span><span class="va">anes_files</span><span class="op">[</span><span class="fl">4</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>Because <code>osf_tbl</code>s are just specialized <code>data.frame</code>s, we could also <code><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset()</a></code> or <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter()</a></code> to achieve the same result.</p>
<p><em><strong>Note:</strong> If an <code>osf_tbl</code> with multiple entities is passed to an non-vectorized osfr function like <code><a href="../reference/osf_open.html">osf_open()</a></code>, the default behavior is to use the entity in the first row and warn that all other entities are ignored.</em></p>
<p>We can also download local copies of these files by passing <code>anes_files</code> to <code><a href="../reference/osf_download.html">osf_download()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/osf_download.html">osf_download</a></span><span class="op">(</span><span class="va">anes_files</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 4</span></span>
<span><span class="co">#&gt;   name                 id                       local_path          meta        </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                &lt;chr&gt;                    &lt;chr&gt;               &lt;list&gt;      </span></span>
<span><span class="co">#&gt; 1 cleaning.R           5e20d22bedceab002d82e0f1 ./cleaning.R        &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 2 Questionnaire.docx   5e20d22bedceab002b82dc3f ./Questionnaire.do… &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 3 raw_data.csv         5e20d22c675e0e00096b4de8 ./raw_data.csv      &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 4 Data Dictionary.docx 5e20d22c675e0e000e6b4b18 ./Data Dictionary.… &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 5 analyses.R           5e20d22c675e0e000a6b4bd3 ./analyses.R        &lt;named list&gt;</span></span></code></pre></div>
<p>We’ll use these files in the next section for creating a new project.</p>
</div>
<div class="section level3">
<h3 id="pipes">Pipes<a class="anchor" aria-label="anchor" href="#pipes"></a>
</h3>
<p>As you’ve likely noticed, <code>osf_tbl</code> objects are central to osfr’s functionality. Indeed, nearly all of its functions both expect an <code>osf_tbl</code> as input and return an <code>osf_tbl</code> as output. As such, osfr functions can be chained together using the <a href="https://magrittr.tidyverse.org" class="external-link">pipe operator</a> (<code>%&gt;%</code>), allowing for the creation of pipelines to automate OSF-based tasks.</p>
<p>Here is a short example that consolidates all of the steps we’ve performed so far:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/osf_retrieve.html">osf_retrieve_node</a></span><span class="op">(</span><span class="st">"jgyxm"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/osf_ls_files.html">osf_ls_files</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/osf_download.html">osf_download</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="project-management">Project management<a class="anchor" aria-label="anchor" href="#project-management"></a>
</h2>
<p>Now let’s see how to use osfr to create and manage your own projects. The goal for this section is to create your own version of the <em>Political Identification and Gender</em> project but with a better organizational structure. To follow along with this section you’ll need to authenticate osfr using a personal access token (PAT). See the <code>?osf_auth()</code> function documentation or the <code>auth</code> vignette for more information.</p>
<div class="section level3">
<h3 id="creating-a-project">Creating a project<a class="anchor" aria-label="anchor" href="#creating-a-project"></a>
</h3>
<p>First you will need to create a new private project on OSF to store all the files related to the project. Here, we’re giving the new project a title (required) and description (optional).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_project</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/osf_create.html">osf_create_project</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">"Political Identification and Gender: Re-examined"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"A re-analysis of the original study's results."</span></span>
<span><span class="op">)</span></span>
<span><span class="va">my_project</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span><span class="co">#&gt;   name                                             id    meta            </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                                            &lt;chr&gt; &lt;list&gt;          </span></span>
<span><span class="co">#&gt; 1 Political Identification and Gender: Re-examined f7bgz &lt;named list [3]&gt;</span></span></code></pre></div>
<p>The GUID for this new project is <code>f7bgz</code>, but yours will be something different. You can check out the project on OSF by opening it’s URL (<code>https://www.osf.io/&lt;GUID&gt;</code>), or, more conveniently: <code>osf_open(my_project)</code>.</p>
</div>
<div class="section level3">
<h3 id="adding-structure-with-components">Adding structure with components<a class="anchor" aria-label="anchor" href="#adding-structure-with-components"></a>
</h3>
<p>A key organizational feature of OSF is the ability to augment a project’s structure with sub-projects, which are referred to as <em>components</em> on OSF. Like top-level projects, every component is assigned a unique URL and contains its own cloud-based storage bucket. They can also have different privacy settings from the parent project.</p>
<p>We are going to create two nested <em>components</em>, one for the raw data and one for the analysis scripts.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_comp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/osf_create.html">osf_create_component</a></span><span class="op">(</span><span class="va">my_project</span>, title <span class="op">=</span> <span class="st">"Raw Data"</span><span class="op">)</span></span>
<span><span class="va">script_comp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/osf_create.html">osf_create_component</a></span><span class="op">(</span><span class="va">my_project</span>, title <span class="op">=</span> <span class="st">"Analysis Scripts"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># verify the components were created</span></span>
<span><span class="co"># osf_open(my_project)</span></span></code></pre></div>
<p>If you refresh the OSF project in your browser the <em>Components</em> widget should now contain two entries for each of our newly created components.</p>
</div>
<div class="section level3">
<h3 id="uploading-files">Uploading files<a class="anchor" aria-label="anchor" href="#uploading-files"></a>
</h3>
<p>Now that our project components are in place we can start to populate them with files. Let’s start with the csv file containing our raw data.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_file</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/osf_upload.html">osf_upload</a></span><span class="op">(</span><span class="va">my_project</span>, path <span class="op">=</span> <span class="st">"raw_data.csv"</span><span class="op">)</span></span>
<span><span class="va">data_file</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span><span class="co">#&gt;   name         id                       meta            </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;                    &lt;list&gt;          </span></span>
<span><span class="co">#&gt; 1 raw_data.csv 63309f3e18f4581162429679 &lt;named list [3]&gt;</span></span></code></pre></div>
<p>Oh no! Instead of uploading <code>raw_data.csv</code> to the <em>Raw Data</em> component, we uploaded it to the parent project instead.</p>
<p>Fear not. We can easily fix this contrived mistake by simply moving the file to its intended location.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/osf_mv.html">osf_mv</a></span><span class="op">(</span><span class="va">data_file</span>, to <span class="op">=</span> <span class="va">data_comp</span><span class="op">)</span></span></code></pre></div>
<p>Crisis averted. Now if you open <em>Raw Data</em> on OSF (<code>osf_open(data_comp)</code>), it should contain the csv file.</p>
<p>Our next step is to upload the R scripts into the <em>Analysis Scripts</em> component. Rather than upload each file individually, we’ll take advantage of <code><a href="../reference/osf_upload.html">osf_upload()</a></code>’s ability to handle multiple files/directories and use <code><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files()</a></code> to identify all <code>.R</code> files in the working directory:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/osf_upload.html">osf_upload</a></span><span class="op">(</span><span class="va">script_comp</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">".R$"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">r_files</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span><span class="co">#&gt;   name         id                       meta            </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;                    &lt;list&gt;          </span></span>
<span><span class="co">#&gt; 1 analyses.R   63309f47408a27127e7637de &lt;named list [3]&gt;</span></span>
<span><span class="co">#&gt; 2 cleaning.R   63309f4a555fe211977a9017 &lt;named list [3]&gt;</span></span>
<span><span class="co">#&gt; 3 precompile.R 63309f4c18f4581167428d70 &lt;named list [3]&gt;</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="putting-it-all-together">Putting it all together<a class="anchor" aria-label="anchor" href="#putting-it-all-together"></a>
</h3>
<p>Finally, let’s repeat the process for the 2 <code>.docx</code> file containing the survey and accompanying data dictionary. This time we’ll use a more succinct approach that leverages pipes to create and populate the component in one block:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_project</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/osf_create.html">osf_create_component</a></span><span class="op">(</span><span class="st">"Research Materials"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/osf_upload.html">osf_upload</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"\\.docx$"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span><span class="co">#&gt;   name                 id                       meta            </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                &lt;chr&gt;                    &lt;list&gt;          </span></span>
<span><span class="co">#&gt; 1 Data Dictionary.docx 63309f526c2401128550a2bc &lt;named list [3]&gt;</span></span>
<span><span class="co">#&gt; 2 Questionnaire.docx   63309f5418f4581150428ef4 &lt;named list [3]&gt;</span></span></code></pre></div>
<p>We can verify the project is now structured the way we wanted by listing the components we have under the main project.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/osf_ls_nodes.html">osf_ls_nodes</a></span><span class="op">(</span><span class="va">my_project</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span><span class="co">#&gt;   name               id    meta            </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;              &lt;chr&gt; &lt;list&gt;          </span></span>
<span><span class="co">#&gt; 1 Research Materials dg79a &lt;named list [3]&gt;</span></span>
<span><span class="co">#&gt; 2 Analysis Scripts   fquzh &lt;named list [3]&gt;</span></span>
<span><span class="co">#&gt; 3 Raw Data           6urqv &lt;named list [3]&gt;</span></span></code></pre></div>
<p>which gives us an <code>osf_tbl</code> with one row for each of the project’s components.</p>
</div>
<div class="section level3">
<h3 id="updating-files">Updating files<a class="anchor" aria-label="anchor" href="#updating-files"></a>
</h3>
<p>OSF provides automatic and unlimited file versioning. Let’s see how this works with osfr. Make a small edit to your local copy of <code>cleaning.R</code> and save. Now, if we attempt to upload this new version to the <em>Analysis Scripts</em> component, osfr will throw a conflict error:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/osf_upload.html">osf_upload</a></span><span class="op">(</span><span class="va">script_comp</span>, path <span class="op">=</span> <span class="st">"cleaning.R"</span><span class="op">)</span></span></code></pre></div>
<pre><code>Error: Can't upload file 'cleaning.R'.
  * A file with the same name already exists at the destination.
  * Use the `conflicts` argument to avoid this error in the future.</code></pre>
<p>As the error indicates, we need to use the <code>conflicts</code> argument to instruct <code><a href="../reference/osf_upload.html">osf_upload()</a></code> how to handle the conflict. In this case, we want to overwrite the original copy with our new version:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/osf_upload.html">osf_upload</a></span><span class="op">(</span><span class="va">script_comp</span>, path <span class="op">=</span> <span class="st">"cleaning.R"</span>, conflicts <span class="op">=</span> <span class="st">"overwrite"</span><span class="op">)</span></span></code></pre></div>
<p>Learn more about file versioning on OSF <a href="https://help.osf.io/article/282-file-revisions-and-version-control" class="external-link">here</a>.</p>
</div>
<div class="section level3">
<h3 id="sharing">Sharing<a class="anchor" aria-label="anchor" href="#sharing"></a>
</h3>
<p>Remember, new OSF projects are <em>always</em> private by default. You can change this by opening the project’s settings page on OSF and making it public. See the following guides for more information about OSF permissions and how to optionally generate a DOI so other can cite your project.</p>
<ul>
<li><a href="https://help.osf.io/article/285-control-your-privacy-settings" class="external-link">Control your privacy settings</a></li>
<li><a href="https://help.osf.io/article/388-sharing-linking-and-forking-projects" class="external-link">Sharing, linking, and forking projects</a></li>
<li><a href="https://help.osf.io/article/220-create-dois" class="external-link">Generate DOIs</a></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="a-few-details-about-files-on-osf">A few details about files on OSF<a class="anchor" aria-label="anchor" href="#a-few-details-about-files-on-osf"></a>
</h2>
<p>On OSF, files can exist in projects, components, and/or directories. Files can be stored on <em>OSF’s Storage</em> or in another service that is connected to an OSF project (e.g. GitHub, Dropbox, or Google Drive). However, <code>osfr</code> currently only supports interacting with files on OSF Storage.</p>
<p>We can download files from any public or private node that we have access to and can identify files to download in two different ways:</p>
<ol style="list-style-type: decimal">
<li>
<p>If we know where the file is located, but don’t remember its GUID, you can use the <code>osf_ls_files</code> function to filter by filename within a specified node and then pipe the results to <code><a href="../reference/osf_download.html">osf_download()</a></code>.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anes_project</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/osf_ls_files.html">osf_ls_files</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/osf_download.html">osf_download</a></span><span class="op">(</span>conflicts <span class="op">=</span> <span class="st">"overwrite"</span><span class="op">)</span></span></code></pre></div>
</li>
<li><p>For a public file that was referenced in a published article, you may already have the GUID, and so can retrieve the file directly before downloading it. For example, let’s download Daniel Laken’s helpful spreadsheet for calculating effect sizes (available from <a href="https://osf.io/vbdah/" class="external-link uri">https://osf.io/vbdah/</a>).</p></li>
</ol>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/osf_retrieve.html">osf_retrieve_file</a></span><span class="op">(</span><span class="st">"vbdah"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/osf_download.html">osf_download</a></span><span class="op">(</span><span class="va">excel_file</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="additional-resources">Additional resources<a class="anchor" aria-label="anchor" href="#additional-resources"></a>
</h2>
<p>For more information on OSF and <code>osfr</code> check out:</p>
<ul>
<li><a href="https://osf.io" class="external-link">OSF</a></li>
<li><a href="https://developer.osf.io" class="external-link">OSF API Documentation</a></li>
<li><a href="https://osf.io/support/" class="external-link">OSF Support</a></li>
<li><a href="https://github.com/ropensci/osfr" class="external-link">osfr GitHub Repository</a></li>
</ul>
<!-- links -->
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
